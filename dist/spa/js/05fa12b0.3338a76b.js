(window.webpackJsonp=window.webpackJsonp||[]).push([["05fa12b0"],{"226e":function(e,t,n){},"386d":function(e,t,n){"use strict";var r=n("cb7c"),i=n("83a1"),a=n("5f1b");n("214f")("search",1,function(e,t,n,o){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=o(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var d=a(s,c);return i(s.lastIndex,u)||(s.lastIndex=u),null===d?-1:d.index}]})},4917:function(e,t,n){"use strict";var r=n("cb7c"),i=n("9def"),a=n("0390"),o=n("5f1b");n("214f")("match",1,function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),u=String(this);if(!c.global)return o(c,u);var d=c.unicode;c.lastIndex=0;for(var l,f=[],h=0;null!==(l=o(c,u));){var m=String(l[0]);f[h]=m,""===m&&(c.lastIndex=a(u,i(c.lastIndex),d)),h++}return 0===h?null:f}]})},"524a":function(e,t,n){"use strict";var r=n("226e");n.n(r).a},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},db37:function(e,t,n){"use strict";n.r(t);n("386d");var r=n("4db1"),i=n.n(r),a=(n("f559"),n("28a5"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("4917"),n("3b2b"),n("a481"),n("5ff7")),o=n("7937"),s=(n("6b54"),[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178]);function c(e){return 0===function(e){var t,n,r,i,a,o=s.length,c=s[0];if(e<c||e>=s[o-1])throw new Error("Invalid Jalaali year "+e);for(a=1;a<o&&(t=s[a],n=t-c,!(e<t));a+=1)c=t;n-(i=e-c)<6&&(i=i-n+33*d(n+4,33));-1===(r=l(l(i+1,33)-1,4))&&(r=4);return r}(e)}function u(e,t){return t<=6?31:t<=11?30:c(e)?30:29}function d(e,t){return~~(e/t)}function l(e,t){return e-~~(e/t)*t}var f=n("ec5d"),h=864e5,m=36e5,v=6e4,g="YYYY-MM-DDTHH:mm:ss.SSSZ",p=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,D=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,M={};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;return n+Object(o.d)(i)+t+Object(o.d)(a)}function S(e,t){var n=new Date(e.getFullYear(),t,0,0,0,0,0).getDate();e.setMonth(t-1,Math.min(n,e.getDate()))}function b(e,t,n){var r=new Date(e),i=n?1:-1;return Object.keys(t).forEach(function(e){if("month"!==e){var n="year"===e?"FullYear":Object(o.b)("days"===e?"date":e);r["set".concat(n)](r["get".concat(n)]()+i*t[e])}else S(r,r.getMonth()+1+i*t.month)}),r}function w(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var i=(t-n)/(7*h);return 1+Math.floor(i)}function Y(e,t,n){var r=new Date(e),i="set".concat(n?"UTC":"");return Object.keys(t).forEach(function(e){if("month"!==e){var n="year"===e?"FullYear":e.charAt(0).toUpperCase()+e.slice(1);r["".concat(i).concat(n)](t[e])}else S(r,t.month)}),r}function x(e,t){var n=new Date(e);switch(t){case"year":n.setMonth(0);case"month":n.setDate(1);case"day":n.setHours(0);case"hour":n.setMinutes(0);case"minute":n.setSeconds(0);case"second":n.setMilliseconds(0)}return n}function O(e,t,n){return(e.getTime()-e.getTimezoneOffset()*v-(t.getTime()-t.getTimezoneOffset()*v))/n}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"days",r=new Date(e),i=new Date(t);switch(n){case"years":return r.getFullYear()-i.getFullYear();case"months":return 12*(r.getFullYear()-i.getFullYear())+r.getMonth()-i.getMonth();case"days":return O(x(r,"day"),x(i,"day"),h);case"hours":return O(x(r,"hour"),x(i,"hour"),m);case"minutes":return O(x(r,"minute"),x(i,"minute"),v);case"seconds":return O(x(r,"second"),x(i,"second"),1e3)}}function C(e){return T(e,x(e,"year"),"days")+1}function H(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function j(e){if(e>=11&&e<=13)return"".concat(e,"th");switch(e%10){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd")}return"".concat(e,"th")}var I={YY:function(e,t,n){var r=this.YYYY(e,t,n)%100;return r>0?Object(o.d)(r):"-"+Object(o.d)(Math.abs(r))},YYYY:function(e,t,n){return null!=n?n:e.getFullYear()},M:function(e){return e.getMonth()+1},MM:function(e){return Object(o.d)(e.getMonth()+1)},MMM:function(e,t){return t.monthsShort[e.getMonth()]},MMMM:function(e,t){return t.months[e.getMonth()]},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},Qo:function(e){return j(this.Q(e))},D:function(e){return e.getDate()},Do:function(e){return j(e.getDate())},DD:function(e){return Object(o.d)(e.getDate())},DDD:function(e){return C(e)},DDDD:function(e){return Object(o.d)(C(e),3)},d:function(e){return e.getDay()},dd:function(e,t){return this.dddd(e,t).slice(0,2)},ddd:function(e,t){return t.daysShort[e.getDay()]},dddd:function(e,t){return t.days[e.getDay()]},E:function(e){return e.getDay()||7},w:function(e){return w(e)},ww:function(e){return Object(o.d)(w(e))},H:function(e){return e.getHours()},HH:function(e){return Object(o.d)(e.getHours())},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return Object(o.d)(this.h(e))},m:function(e){return e.getMinutes()},mm:function(e){return Object(o.d)(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return Object(o.d)(e.getSeconds())},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return Object(o.d)(Math.floor(e.getMilliseconds()/10))},SSS:function(e){return Object(o.d)(e.getMilliseconds(),3)},A:function(e){return this.H(e)<12?"AM":"PM"},a:function(e){return this.H(e)<12?"am":"pm"},aa:function(e){return this.H(e)<12?"a.m.":"p.m."},Z:function(e){return y(e.getTimezoneOffset(),":")},ZZ:function(e){return y(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};var k={isValid:function(e){return"number"==typeof e||!1===isNaN(Date.parse(e))},extractDate:function(e,t,n){var r=function(e,t,n,r){var i={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,dateHash:null,timeHash:null};if(null==e||""===e||"string"!=typeof e)return i;void 0===t&&(t=g);var a=void 0!==n?n:f.a.props.date,s=a.months,c=a.monthsShort,d=function(e,t){var n="("+t.days.join("|")+")",r=e+n;if(void 0!==M[r])return M[r];var i="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",o="("+t.monthsShort.join("|")+")",s={},c=0,u=e.replace(D,function(e){switch(c++,e){case"YY":return s.YY=c,"(-?\\d{1,2})";case"YYYY":return s.YYYY=c,"(-?\\d{1,4})";case"M":return s.M=c,"(\\d{1,2})";case"MM":return s.M=c,"(\\d{2})";case"MMM":return s.MMM=c,o;case"MMMM":return s.MMMM=c,a;case"D":return s.D=c,"(\\d{1,2})";case"Do":return s.D=c++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=c,"(\\d{2})";case"H":return s.H=c,"(\\d{1,2})";case"HH":return s.H=c,"(\\d{2})";case"h":return s.h=c,"(\\d{1,2})";case"hh":return s.h=c,"(\\d{2})";case"m":return s.m=c,"(\\d{1,2})";case"mm":return s.m=c,"(\\d{2})";case"s":return s.s=c,"(\\d{1,2})";case"ss":return s.s=c,"(\\d{2})";case"S":return s.S=c,"(\\d{1})";case"SS":return s.S=c,"(\\d{2})";case"SSS":return s.S=c,"(\\d{3})";case"A":return s.A=c,"(AM|PM)";case"a":return s.a=c,"(am|pm)";case"aa":return s.aa=c,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=c,"(-?\\d+)";case"x":return s.x=c,"(-?\\d{4,})";default:return c--,"["===e[0]&&(e=e.substring(1,e.length-1)),e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),d={map:s,regex:new RegExp("^"+u+"$")};return M[r]=d,d}(t,a),l=d.regex,h=d.map,m=e.match(l);if(null===m)return i;if(void 0!==h.X||void 0!==h.x){var v=parseInt(m[void 0!==h.X?h.X:h.x],10);if(!0===isNaN(v)||v<0)return i;var p=new Date(v*(void 0!==h.X?1e3:1));i.year=p.getFullYear(),i.month=p.getMonth()+1,i.day=p.getDate(),i.hour=p.getHours(),i.minute=p.getMinutes(),i.second=p.getSeconds(),i.millisecond=p.getMilliseconds()}else{if(void 0!==h.YYYY)i.year=parseInt(m[h.YYYY],10);else if(void 0!==h.YY){var y=parseInt(m[h.YY],10);i.year=y<0?y:2e3+y}if(void 0!==h.M){if(i.month=parseInt(m[h.M],10),i.month<1||i.month>12)return i}else void 0!==h.MMM?i.month=c.indexOf(m[h.MMM])+1:void 0!==h.MMMM&&(i.month=s.indexOf(m[h.MMMM])+1);if(void 0!==h.D){if(i.day=parseInt(m[h.D],10),null===i.year||null===i.month||i.day<1)return i;var S="persian"!==r?new Date(i.year,i.month,0).getDate():u(i.year,i.month);if(i.day>S)return i}void 0!==h.H?i.hour=parseInt(m[h.H],10)%24:void 0!==h.h&&(i.hour=parseInt(m[h.h],10),(h.A&&"PM"===m[h.A]||h.a&&"pm"===m[h.a]||h.aa&&"p.m."===m[h.aa])&&(i.hour+=12),i.hour=i.hour%12||12),void 0!==h.m&&(i.minute=parseInt(m[h.m],10)%60),void 0!==h.s&&(i.second=parseInt(m[h.s],10)%60),void 0!==h.S&&(i.millisecond=parseInt(m[h.S],10)*Math.pow(10,3-m[h.S].length))}return i.dateHash=i.year+"/"+Object(o.d)(i.month)+"/"+Object(o.d)(i.day),i.timeHash=Object(o.d)(i.hour)+":"+Object(o.d)(i.minute)+":"+Object(o.d)(i.second),i}(e,t,n);return new Date(r.year,null===r.month?null:r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond)},buildDate:function(e,t){return Y(new Date,e,t)},getDayOfWeek:function(e){var t=new Date(e).getDay();return 0===t?7:t},getWeekOfYear:w,isBetweenDates:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new Date(t).getTime(),a=new Date(n).getTime(),o=new Date(e).getTime();return r.inclusiveFrom&&i--,r.inclusiveTo&&a++,o>i&&o<a},addToDate:function(e,t){return b(e,t,!0)},subtractFromDate:function(e,t){return b(e,t,!1)},adjustDate:Y,startOfDate:x,endOfDate:function(e,t){var n=new Date(e);switch(t){case"year":n.setMonth(11);case"month":n.setDate(H(e));case"day":n.setHours(23);case"hour":n.setMinutes(59);case"minute":n.setSeconds(59);case"second":n.setMilliseconds(59)}return n},getMaxDate:function(e){for(var t=new Date(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(function(e){t=Math.max(t,new Date(e))}),t},getMinDate:function(e){for(var t=new Date(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(function(e){t=Math.min(t,new Date(e))}),t},getDateDiff:T,getDayOfYear:C,inferDateFormat:function(e){return!0===Object(a.a)(e)?"date":"number"==typeof e?"number":"string"},getDateBetween:function(e,t,n){var r=new Date(e);if(t){var i=new Date(t);if(r<i)return i}if(n){var a=new Date(n);if(r>a)return a}return r},isSameDate:function(e,t,n){var r=new Date(e),i=new Date(t);if(void 0===n)return r.getTime()===i.getTime();switch(n){case"second":if(r.getSeconds()!==i.getSeconds())return!1;case"minute":if(r.getMinutes()!==i.getMinutes())return!1;case"hour":if(r.getHours()!==i.getHours())return!1;case"day":if(r.getDate()!==i.getDate())return!1;case"month":if(r.getMonth()!==i.getMonth())return!1;case"year":if(r.getFullYear()!==i.getFullYear())return!1;break;default:throw new Error("date isSameDate unknown unit ".concat(n))}return!0},daysInMonth:H,formatDate:function(e,t,n,r){if((0===e||e)&&e!==1/0&&e!==-1/0){var i=new Date(e);if(!isNaN(i)){void 0===t&&(t=g);var a=void 0!==n?n:f.a.props.date;return t.replace(p,function(e,t){return e in I?I[e](i,a,r):void 0===t?e:t.split("\\]").join("]")})}}},clone:function(e){return!0===Object(a.a)(e)?new Date(e.getTime()):e}},N=[{direction:"~",time:"2019-06-02T11:42:42.000Z",text:"First Line"},{direction:"~",time:"2019-06-02T11:42:42.102Z",text:"multiline\n content"},{direction:"~",time:"2019-06-02T11:42:42.200Z",text:""},{direction:"~",time:"2019-06-02T11:42:42.420Z",text:"this 'line' contains a full unicode styled table:\n╔════════════════╦═══════╦══════╗\n║      Name      ║ Value ║ Unit ║\n╠════════════════╬═══════╬══════╣\n║ Ambient Light  ║    42 ║ LUX  ║\n║ LED-Brightness ║    50 ║ %    ║\n╚════════════════╩═══════╩══════╝"},{direction:"~",time:"2019-06-02T11:43:00.000Z",text:"the end.."}],q={name:"SerialTest",data:function(){return{serialAvailable:!1,port:void 0,parser:void 0,deviceList:[{comName:"dummyResponder",manufacturer:"s-light.eu",serialNumber:"42",pnpId:void 0,locationId:void 0,productId:void 0,vendorId:void 0}],deviceSelected:void 0,deviceSearching:!1,deviceConnecting:!1,deviceConnected:!1,messagaeToSend:"Hello World :-)",log:N,logCountMax:500}},methods:{toggleConnect:function(){var e=this;this.deviceConnecting=!0,this.deviceSelected.comName.startsWith("dummyResponder")?setTimeout(function(){e.deviceConnecting=!1,e.deviceConnected=!e.deviceConnected},1e3):this.deviceConnected?this.portClose():this.portOpen()},portOpen:function(){this.serialAvailable&&(this.port=new(void 0)(this.deviceSelected.comName,{baudRate:115200}),this.port.pipe(this.parser),this.port.on("open",function(){this.deviceConnected=!0,this.deviceConnecting=!1}),this.port.on("close",function(){this.deviceConnected=!1,this.deviceConnecting=!1}))},portClose:function(){this.serialAvailable&&this.port.close()},messageSend:function(){var e=this;if(this.deviceSelected.comName.startsWith("dummyResponder")){var t=this.messagaeToSend;setTimeout(function(){e.messageReceive(t)},500)}else this.serialAvailable&&this.port.write(this.messagaeToSend+"\n");var n={direction:"→",time:new Date,text:this.messagaeToSend};this.log.push(n),this.messagaeToSend=""},messageReceive:function(e){var t={direction:"*",time:new Date,text:e};for(this.log.push(t);this.log.length>this.logCountMax;)this.log.shift()},search:function(){var e=this;this.deviceSearching=!0,this.serialAvailable?(void 0).list().then(function(t){var n;e.deviceList=[{comName:"dummyResponder",manufacturer:"s-light.eu",serialNumber:"42",pnpId:void 0,locationId:void 0,productId:void 0,vendorId:void 0}],(n=e.deviceList).push.apply(n,i()(t))},function(t){console.error("serialport.list:",t),e.deviceSearching=!1}):setTimeout(function(){e.deviceList.push({comName:"dummyResponder"+e.deviceList.length,manufacturer:"s-light.eu",serialNumber:42+100*e.deviceList.length,pnpId:void 0,locationId:void 0,productId:void 0,vendorId:void 0}),e.deviceSearching=!1},2e3)}},computed:{},mounted:function(){console.log("mounted.."),this.deviceSelected=this.deviceList[0],console.log("mounted - done")},filters:{timeOnly:function(e){var t=new Date(e),n="";return k.isValid(t)&&(n=k.formatDate(t,"HH:mm:ss.SSS")),n}}},A=(n("524a"),n("2877")),F=Object(A.a)(q,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"flex column",staticStyle:{"align-items":"center"}},[n("section",{staticClass:"q-mt-md row justify-around items-center "},[n("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"12em",background:"transparent"},attrs:{rounded:"",outlined:"",label:"Device","option-label":"comName",options:e.deviceList,disable:e.deviceConnected},scopedSlots:e._u([{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",[e._v("\n                        No Devices\n                    ")])],1)]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{flat:"",round:"",dense:"",hint:"search devices",icon:"refresh",disable:e.deviceConnected,loading:e.deviceSearching},on:{click:function(t){return e.search()}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-radio")]},proxy:!0}])})]},proxy:!0}]),model:{value:e.deviceSelected,callback:function(t){e.deviceSelected=t},expression:"deviceSelected"}}),n("q-btn",{style:{opacity:e.deviceSelected?"inherit":"0.05"},attrs:{rounded:"",icon:e.deviceConnected?"phonelink_off":"phonelink",loading:e.deviceConnecting,label:e.deviceConnected?"disconnect":"connect",disable:!e.deviceSelected},on:{click:function(t){return e.toggleConnect()}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-gears")]},proxy:!0},{key:"after",fn:function(){return[n("q-icon",{attrs:{name:"close"}})]},proxy:!0}])})],1),n("section",{staticClass:"log q-mt-md q-pa-sm"},e._l(e.log,function(t,r){return n("div",{key:r,staticClass:"line row"},[n("div",{staticClass:"info q-px-sm"},[e._v("\n                "+e._s(e._f("timeOnly")(t.time))+" "+e._s(t.direction)+"\n            ")]),n("pre",{staticClass:"col-grow"},[e._v(e._s(t.text))])])}),0),n("section",{staticClass:"q-mt-md",staticStyle:{"min-width":"50vw"}},[n("q-input",{attrs:{filled:"",label:"Send Message",disable:!e.deviceConnected},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.messageSend()}},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",style:{opacity:""!==e.messagaeToSend?"inherit":"0.1"},attrs:{name:"close"},on:{click:function(t){e.messagaeToSend=""}}})]},proxy:!0},{key:"after",fn:function(){return[n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{round:"",dense:"",flat:"",icon:"send",disable:!e.deviceConnected},on:{click:function(t){return e.messageSend()}}})]},proxy:!0}]),model:{value:e.messagaeToSend,callback:function(t){e.messagaeToSend=t},expression:"messagaeToSend"}})],1)])},[],!1,null,null,null);t.default=F.exports}}]);
//# sourceMappingURL=05fa12b0.3338a76b.js.map