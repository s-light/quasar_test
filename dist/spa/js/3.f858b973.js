(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"01bf":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"log"},e._l(e.logInternal,(function(t,i){return n("div",{key:i,staticClass:"line row"},[n("div",{staticClass:"info q-px-sm"},[e._v("\n            "+e._s(e._f("timeOnly")(t.time))+" "+e._s(t.direction)+"\n        ")]),n("pre",{staticClass:"col-grow"},[e._v(e._s(t.text))])])})),0)},s=[],o=n("bd4c");const c=[{direction:"~",time:"2019-06-02T11:42:42.000Z",text:"First Line"},{direction:"~",time:"2019-06-02T11:42:42.102Z",text:"multiline\n content"},{direction:"~",time:"2019-06-02T11:42:42.200Z",text:""},{direction:"~",time:"2019-06-02T11:42:42.420Z",text:"this 'line' contains a full unicode styled table:\n╔════════════════╦═══════╦══════╗\n║      Name      ║ Value ║ Unit ║\n╠════════════════╬═══════╬══════╣\n║ Ambient Light  ║    42 ║ LUX  ║\n║ LED-Brightness ║    50 ║ %    ║\n╚════════════════╩═══════╩══════╝"},{direction:"~",time:"2019-06-02T11:43:00.000Z",text:"the end.."}];var a={props:{log:{type:Array,default:function(){return[]}},logCountMax:{type:Number,default:500},directionOutSymbol:{type:String,default:"→"},directionInSymbol:{type:String,default:"*"},directionSpecialSymbol:{type:String,default:"~"},directionCommentSymbol:{type:String,default:"#"},showDemoData:{type:Boolean,default:!1}},data(){return{logInternal:[]}},computed:{},methods:{addEntry:function(e,t=this.directionInSymbol,n=new Date){const i={direction:t,time:n,text:e};this.logInternal.push(i);while(this.logInternal.length>this.logCountMax)this.logInternal.shift();this.$emit("update:log",this.logInternal)},addEntryOut:function(e){this.addEntry(e,this.directionOutSymbol,new Date)},addEntryIn:function(e){this.addEntry(e,this.directionInSymbol,new Date)},addEntrySpecial:function(e){this.addEntry(e,this.directionSpecialSymbol,new Date)},addEntryComment:function(e){this.addEntry(e,this.directionCommentSymbol,new Date)},clear:function(){this.logInternal=[]}},watch:{},mounted:function(){this.showDemoData?this.logInternal=c:this.logInternal=this.log},filters:{timeOnly:function(e){const t=new Date(e);let n="";return o["a"].isValid(t)&&(n=o["a"].formatDate(t,"HH:mm:ss.SSS")),n}}},d=a,l=(n("2d47"),n("2877")),r=Object(l["a"])(d,i,s,!1,null,null,null);t["a"]=r.exports},"2d47":function(e,t,n){"use strict";n("c19b")},b994:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"flex column",staticStyle:{"align-items":"center"}},[n("section",{staticClass:"q-mt-md row justify-around items-center "},[n("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"16em",background:"transparent"},attrs:{rounded:"",outlined:"",label:"Device",disable:e.deviceIsOpen,"option-label":function(e){return e.product},"option-value":function(e){return e},options:e.deviceList},scopedSlots:e._u([{key:"option",fn:function(t){return[n("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[n("q-item-section",[n("q-item-label",[e._v("\n                            "+e._s(t.opt.product)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            "+e._s(t.opt.manufacturer)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            "+e._s(t.opt.path)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            vendorId:"+e._s(t.opt.vendorId)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            productId:"+e._s(t.opt.productId)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            serialNumber:"+e._s(t.opt.serialNumber)+"\n                        ")])],1)],1)]}},{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",[e._v("\n                        No Devices\n                    ")])],1)]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{flat:"",round:"",dense:"",hint:"search devices",icon:"refresh",disable:e.deviceIsOpen,loading:e.deviceSearching},on:{click:function(t){return e.search()}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-radio")]},proxy:!0}])})]},proxy:!0}]),model:{value:e.deviceSelected,callback:function(t){e.deviceSelected=t},expression:"deviceSelected"}}),n("q-btn",{style:{opacity:e.deviceSelected?"inherit":"0.05"},attrs:{rounded:"",icon:e.deviceIsOpen?"phonelink_off":"phonelink",loading:e.deviceConnecting,label:e.deviceIsOpen?"disconnect":"connect",disable:!e.deviceSelected},on:{click:function(t){return e.toggleConnect()}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-gears")]},proxy:!0},{key:"after",fn:function(){return[n("q-icon",{attrs:{name:"close"}})]},proxy:!0}])})],1),n("section",[n("p",{staticClass:"q-ma-md"},[e._v("\n            "+e._s(e.deviceSelected)+"\n        ")])]),n("LogView",{ref:"mylog",staticClass:"q-mt-md q-pa-sm",attrs:{log:e.log},on:{"update:log":function(t){e.log=t}}}),n("section",{staticClass:"q-mt-md",staticStyle:{"min-width":"50vw"}},[n("q-input",{attrs:{filled:"",label:"Send Message",disable:!e.deviceIsOpen||e.deviceConnecting},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.messageSend()}},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",style:{opacity:""!==e.messagaeToSend?"inherit":"0.1"},attrs:{name:"close"},on:{click:function(t){e.messagaeToSend=""}}})]},proxy:!0},{key:"after",fn:function(){return[n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{round:"",dense:"",flat:"",icon:"send",disable:!e.deviceIsOpen||e.deviceConnecting},on:{click:function(t){return e.messageSend()}}})]},proxy:!0}]),model:{value:e.messagaeToSend,callback:function(t){e.messagaeToSend=t},expression:"messagaeToSend"}})],1)],1)},s=[],o=(n("ddb0"),n("11ec")),c=n("01bf");const a={vendorId:-1,productId:-1,path:"/dummyResponder/0",serialNumber:"42",manufacturer:"s-light.eu",product:"dummyResponder",release:-1,interface:-1,usagePage:-1,usage:-1};var d={name:"PageSerialTest",data(){return{hidAvailable:!1,device:void 0,parser:void 0,deviceList:[a],deviceSelected:null,deviceIsOpen:!1,deviceSearching:!1,deviceConnecting:!1,messagaeToSend:"Hello World :-)",log:void 0}},methods:{toggleConnect(){console.group("toggleConnect()"),this.deviceConnecting=!0,this.deviceIsOpen?(console.log("we will close now.."),this.deviceClose(),console.log("close done.")):(console.log("we will open now.."),this.deviceOpen()),console.groupEnd()},deviceOpen(){if(console.group("deviceOpen()"),console.log(`this.deviceSelected '${this.deviceSelected}'`),this.deviceSelected.path.startsWith("/dummyResponder/"))setTimeout((()=>{this.deviceConnecting=!1,this.deviceIsOpen=!0}),500);else if(this.hidAvailable)try{this.device=new HID.HID(this.deviceSelected.path),this.device.on("error",(e=>{this.$refs.mylog.addEntrySpecial(e)})),this.device.on("data",(e=>{this.messageReceive(e)})),this.deviceIsOpen=!0,this.deviceConnecting=!1}catch(e){console.error("device open failed:\n",e),this.deviceIsOpen=!1,this.deviceConnecting=!1}console.groupEnd()},deviceClose(){this.deviceSelected.path.startsWith("/dummyResponder/")?setTimeout((()=>{this.deviceConnecting=!1,this.deviceIsOpen=!1}),500):this.hidAvailable&&this.device&&(this.deviceConnecting=!0,this.device.close(),this.deviceIsOpen=!1,this.deviceConnecting=!1)},messageSend(){if(console.group("messageSend"),console.log("messagaeToSend:",this.messagaeToSend),this.deviceSelected.path.startsWith("/dummyResponder/")){console.log("send to dummyResponder");const e=this.messagaeToSend;setTimeout((()=>{this.messageReceive(e)}),1e3)}else if(this.hidAvailable){console.log("hid is available.");try{console.log("write to device");const e=Array.from(this.messagaeToSend).map((e=>e.charCodeAt(0)));this.device.write(e)}catch(e){console.error("write failed:\n",e)}}this.$refs.mylog.addEntryOut(this.messagaeToSend),this.messagaeToSend="",console.groupEnd()},messageReceive(e){this.$refs.mylog.addEntryIn(e)},search(){if(console.group("search for devices.."),this.deviceSearching=!0,this.hidAvailable){const e=HID.devices();if(e){const t={};Object(o["a"])(t,a),this.deviceList=[t];for(let n of e)console.log(`device ${n}`);this.deviceList.push(...e),this.deviceSelected=this.deviceList[this.deviceList.length-1],this.deviceSearching=!1}else console.error("HID.devices:","failed."),this.deviceSearching=!1}else setTimeout((()=>{const e={};Object(o["a"])(e,a),e.path="/dummyResponder/"+this.deviceList.length,e.serialNumber=42+100*this.deviceList.length,e.product="dummyResponder new"+this.deviceList.length,this.deviceList.push(e),this.deviceSearching=!1}),2e3);console.groupEnd()}},computed:{},mounted:function(){if(console.group("mounted.."),HID){try{HID.devices(),this.hidAvailable=!0}catch(e){this.hidAvailable=!1,console.error(e)}this.search()}this.hidAvailable||(console.log("create some dummyResponder entries.."),this.search(),this.search(),this.search()),console.groupEnd()},beforeDestroy:function(){console.group("beforeDestroy.."),this.deviceClose(),console.groupEnd()},filters:{},components:{LogView:c["a"]}},l=d,r=n("2877"),u=n("9989"),h=n("ddd8"),p=n("66e5"),m=n("4074"),v=n("0170"),g=n("9c40"),f=n("9569"),y=n("cf57"),S=n("0016"),b=n("27f9"),I=n("714f"),w=n("eebe"),C=n.n(w),_=Object(r["a"])(l,i,s,!1,null,null,null);t["default"]=_.exports;C()(_,"components",{QPage:u["a"],QSelect:h["a"],QItem:p["a"],QItemSection:m["a"],QItemLabel:v["a"],QBtn:g["a"],QSpinnerRadio:f["a"],QSpinnerGears:y["a"],QIcon:S["a"],QInput:b["a"]}),C()(_,"directives",{Ripple:I["a"]})},c19b:function(e,t,n){}}]);