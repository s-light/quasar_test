language: node_js
node_js:
    - "12"

# https://docs.travis-ci.com/user/multi-os/
os:
    - linux
    - osx
dist: xenial

cache: yarn

addons:
  apt:
    packages:
        # needed for node-hid
        # https://www.npmjs.com/package/node-hid#compiling-from-source
        # https://github.com/node-hid/node-hid/pull/253
        - libusb-1.0-0
        - libusb-1.0-0-dev
        - libudev-dev
  # homebrew:
  #   packages: packagename


# this is all we need to trigger the upload...
# $GH_TOKEN has to be available.
after_success:
    - yarn release
    - yarn release_upload
    - echo "this should have updated the assertst in a release draft :-)"


# deploy:
#     skip_cleanup: true
#     provider: releases
#     api_key: $GH_TOKEN
#     # file: "FILE TO UPLOAD"
#     draft: true
#     on:
#         tags: true
# deploy:
#     skip_cleanup: true
#     provider: script
#     script: yarn release
