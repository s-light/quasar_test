{"version":3,"sources":["webpack:///./src/pages/font.vue?b30a","webpack:///./src/components/CanvasTextRender.vue?04a0","webpack:///src/components/CanvasTextRender.vue","webpack:///./src/pages/font.vue?d4ae","webpack:///src/pages/font.vue","webpack:///./src/components/CanvasTextRender.vue","webpack:///./src/components/CanvasTextRender.vue?7d20","webpack:///./src/pages/font.vue","webpack:///./src/components/CanvasTextRender.vue?059d"],"names":["components_CanvasTextRendervue_type_script_lang_js_","props","value","type","String","default","fontFamily","fontSize","Number","fontWeight","italic","Boolean","height","data","testmessage","width","computed","font","this","methods","updateCanvas","canvas","$refs","ctx","getContext","textWidth","measureText","clearRect","console","log","fillStyle","fillText","watch","mounted","pages_fontvue_type_script_lang_js_","name","font_active","font_list","font_list_filtered","font_weight","filterFn","val","update","abort","_this","needle","toLowerCase","filter","v","indexOf","example_computed","filters","prettyprint","JSON","stringify","components","CanvasTextRender","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","ref","_v","_s","font_component","attrs","font-family","font-weight","staticStyle","margin","background-color","style","clearable","filled","label","model","callback","$$v","expression","options","use-input","input-debounce","on","scopedSlots","_u","key","fn","proxy","scope","_g","_b","itemProps","itemEvents","opt","domProps","innerHTML","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_5_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_2_2_node_modules_vue_loader_lib_index_js_vue_loader_options_CanvasTextRender_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"js/6b1e5a92.65122b3e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{staticClass:\"flex flex-center\"},[_c('section',[_c('CanvasTextRender',{attrs:{\"value\":_vm.testmessage,\"font-family\":_vm.font_active,\"font-weight\":_vm.font_weight,\"height\":_vm.height}}),_c('div',{staticStyle:{\"margin\":\"2em\",\"background-color\":\"$primary\"},style:({fontFamily : _vm.font_active})},[_vm._v(\"\\n            \"+_vm._s(_vm.testmessage)+\"\\n        \")]),_c('q-input',{attrs:{\"clearable\":\"\",\"filled\":\"\",\"label\":\"Test Message\"},model:{value:(_vm.testmessage),callback:function ($$v) {_vm.testmessage=$$v},expression:\"testmessage\"}}),_c('q-select',{attrs:{\"filled\":\"\",\"label\":\"select font\",\"options\":_vm.font_list_filtered,\"use-input\":\"\",\"input-debounce\":\"0\"},on:{\"filter\":_vm.filterFn},scopedSlots:_vm._u([{key:\"no-option\",fn:function(){return [_c('q-item',[_c('q-item-section',{staticClass:\"text-grey\"},[_vm._v(\"\\n                        No results\\n                    \")])],1)]},proxy:true},{key:\"option\",fn:function(scope){return [_c('q-item',_vm._g(_vm._b({},'q-item',scope.itemProps,false),scope.itemEvents),[_c('q-item-section',[_c('q-item-label',{style:({fontFamily : scope.opt}),domProps:{\"innerHTML\":_vm._s(scope.opt)}})],1)],1)]}}]),model:{value:(_vm.font_active),callback:function ($$v) {_vm.font_active=$$v},expression:\"font_active\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasTextRender.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasTextRender.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"canvas-text-render\">\n        <!-- :width=\"width\" -->\n        <canvas\n            ref=\"canvas\"\n        >\n            {{ value }}\n        </canvas>\n        {{ width }}x{{ height }}\n    </div>\n</template>\n\n<style>\n    canvas {\n        border: 1px solid black;\n    }\n</style>\n\n<script>\nexport default {\n    // name: 'CanvasTextRender',\n    // props: ['value', 'font', 'width', 'height'],\n    props: {\n        value: {\n            type: String,\n            default: ''\n        },\n        fontFamily: {\n            type: String,\n            default: 'sans'\n        },\n        fontSize: {\n            type: Number,\n            default: 11\n        },\n        fontWeight: {\n            type: Number,\n            default: 500\n        },\n        italic: {\n            type: Boolean,\n            default: false\n        },\n        // width: {\n        //     type: Number,\n        //     default: 44\n        // }\n        height: {\n            type: Number,\n            default: 11\n        }\n    },\n    data () {\n        return {\n            testmessage: '16:05 Here we have some text...',\n            width: 100\n            // height: 10\n        }\n    },\n    computed: {\n        // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n        font: function () {\n            let font = ''\n            if (this.italic) {\n                font += 'italic '\n            }\n            // font += this.fontWeight + ' '\n            // font += ' ' + this.height + 'px'\n            font += this.height + 'px'\n            // font += ' ' + this.fontSize\n            font += ' \"' + this.fontFamily + '\"'\n            return font\n        }\n        // },\n        // width: function () {\n        //     let textWidth = 200\n        //     if (this.$refs.canvas) {\n        //         console.log('this.$refs.canvas', this.$refs.canvas)\n        //         const ctx = this.$refs.canvas.getContext('2d')\n        //         textWidth = ctx.measureText(this.value).width\n        //     }\n        //     console.log('textWidth', textWidth)\n        //     return textWidth\n        //     // return 100\n        // }\n    },\n    methods: {\n        updateCanvas: function () {\n            // console.log('this', this)\n            const canvas = this.$refs.canvas\n            if (canvas) {\n                const ctx = canvas.getContext('2d')\n\n                // get new width\n                let textWidth = ctx.measureText(this.value).width\n                this.width = textWidth\n                // ^- fires after updateCanvas is done and so clears the canvas..\n                canvas.width = textWidth\n                // console.log('textWidth', textWidth)\n\n                // clean up\n                ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n                console.log('this.font', this.font)\n                // render\n                ctx.fillStyle = 'black'\n                ctx.font = this.font\n                ctx.fillText(this.value, 0, this.height - 1)\n            }\n        }\n    },\n    watch: {\n        value: function () {\n            this.updateCanvas()\n        },\n        font: function () {\n            this.updateCanvas()\n            this.updateCanvas()\n        },\n        height: function (value) {\n            const canvas = this.$refs.canvas\n            if (canvas) {\n                canvas.height = value\n            }\n            this.updateCanvas()\n        }\n        // width: function () {\n        //     this.updateCanvas()\n        // }\n    },\n    mounted: function () {\n        const canvas = this.$refs.canvas\n        if (canvas) {\n            canvas.height = this.height\n            canvas.width = this.width\n        }\n        this.updateCanvas()\n        this.updateCanvas()\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./font.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./font.vue?vue&type=script&lang=js&\"","<template>\n    <q-page class=\"flex flex-center\">\n        <section>\n            <CanvasTextRender\n                :value=\"testmessage\"\n                :font-family=\"font_active\"\n                :font-weight=\"font_weight\"\n                :height=\"height\"\n            />\n\n            <div\n                style=\"margin: 2em; background-color:$primary;\"\n                :style=\"{fontFamily : font_active}\"\n            >\n                {{ testmessage }}\n            </div>\n            <q-input\n                clearable\n                filled\n                v-model=\"testmessage\"\n                label=\"Test Message\"\n            />\n            <q-select\n                filled\n                label=\"select font\"\n                v-model=\"font_active\"\n                :options=\"font_list_filtered\"\n                use-input\n                input-debounce=\"0\"\n                @filter=\"filterFn\"\n            >\n                <template v-slot:no-option>\n                    <q-item>\n                        <q-item-section class=\"text-grey\">\n                            No results\n                        </q-item-section>\n                    </q-item>\n                </template>\n                <template v-slot:option=\"scope\">\n                    <q-item\n                        v-bind=\"scope.itemProps\"\n                        v-on=\"scope.itemEvents\"\n                    >\n                        <q-item-section>\n                            <q-item-label\n                                v-html=\"scope.opt\"\n                                :style=\"{fontFamily : scope.opt}\"\n                            />\n                        </q-item-section>\n                    </q-item>\n                </template>\n            </q-select>\n        </section>\n    </q-page>\n</template>\n\n<style>\n</style>\n\n<script>\n\nimport CanvasTextRender from 'components/CanvasTextRender.vue'\n\nexport default {\n    name: 'FontTest',\n    data () {\n        return {\n            testmessage: '16:05 Here we have some text. This is only for testing the font...',\n            font_active: 'Titillium',\n            font_list: [\n                'Titillium',\n                // \"Ruji's Handwriting Font v.2.0\",\n                // \"Ruji's Handwriting Font v20\",\n                // 'Rujis Handwriting Font v.2.0',\n                'Rujis Handwriting Font v20',\n                'Office Code Pro',\n                // 'Office Code Pro D',\n                'Overpass',\n                'Overpass-mono',\n                'Roboto'\n                // 'Overlock',\n                // 'Ruthie'\n            ],\n            font_list_filtered: this.font_list,\n            font_weight: 500,\n            height: 10\n        }\n    },\n    methods: {\n        // https://quasar.dev/vue-components/select#Example--Basic-autocomplete\n        filterFn (val, update, abort) {\n            update(() => {\n                const needle = val.toLowerCase()\n                this.font_list_filtered = this.font_list.filter(v => v.toLowerCase().indexOf(needle) > -1)\n            })\n        }\n    },\n    computed: {\n        // https://vuejs.org/v2/guide/computed.html#Basic-Example\n        example_computed: function () {\n            return undefined\n        }\n    },\n    filters: {\n        prettyprint: function (value) {\n            if (!value) return ''\n            return JSON.stringify(value, null, '    ')\n        }\n    },\n    components: {\n        CanvasTextRender\n    }\n}\n\n// https://quasar.dev/quasar-plugins/web-storage\n// this.$q.localStorage.set(key, value)\n// let value = this.$q.localStorage.getItem(key)\n//\n// this.$q.sessionStorage.set(key, value)\n// let value = this.$q.sessionStorage.getItem(key)\n</script>\n","import { render, staticRenderFns } from \"./CanvasTextRender.vue?vue&type=template&id=a3486bc4&\"\nimport script from \"./CanvasTextRender.vue?vue&type=script&lang=js&\"\nexport * from \"./CanvasTextRender.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CanvasTextRender.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas-text-render\"},[_c('canvas',{ref:\"canvas\"},[_vm._v(\"\\n        \"+_vm._s(_vm.value)+\"\\n    \")]),_vm._v(\"\\n    \"+_vm._s(_vm.width)+\"x\"+_vm._s(_vm.height)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./font.vue?vue&type=template&id=041f529e&\"\nimport script from \"./font.vue?vue&type=script&lang=js&\"\nexport * from \"./font.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-2-2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasTextRender.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-2-2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasTextRender.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}